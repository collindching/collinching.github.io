<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Why your regression coefficients have the wrong sign - Collin Ching</title>
<meta name="description" content="And what you can do about it ">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Collin Ching">
<meta property="og:title" content="Why your regression coefficients have the wrong sign">
<meta property="og:url" content="http://localhost:4000/regression-signs/">


  <meta property="og:description" content="And what you can do about it ">







  <meta property="article:published_time" content="2020-05-05T00:00:00-07:00">





  

  


<link rel="canonical" href="http://localhost:4000/regression-signs/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Collin Ching",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Collin Ching Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/images/c.png" alt=""></a>
        
        <a class="site-title" href="/">
          Collin Ching
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/thoughts/">Thoughts</a>
            </li><li class="masthead__menu-item">
              <a href="/cookbooks/R/">R Cookbook</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/images/profile.png" alt="" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name"></h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Welcome to my blog! <br /><br /> <strong>Keywords</strong>: Statistics, data science, meta-learning</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">San Francisco</span>
        </li>
      

      
        
          
            <li><a href="https://www.linkedin.com/in/collindching/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/collindching" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://medium.com/@collindching" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-medium" aria-hidden="true"></i><span class="label">Medium</span></a></li>
          
        
          
            <li><a href="https://twitter.com/collindching" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:collindching@gmail.com">
            <meta itemprop="email" content="collindching@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Why your regression coefficients have the wrong sign">
    <meta itemprop="description" content="And what you can do about it">
    <meta itemprop="datePublished" content="2020-05-05T00:00:00-07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Why your regression coefficients have the wrong sign
</h1>
          <h2 id="page-subtitle" class="page__subtitle" itemprop="subheadline"><p>And what you can do about it</p>
</h2>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Imagine you build a model for your company’s marketing team, and in the stakeholder meeting, you present the following output:</p>

<ul>
  <li>For this output, create correlated marketing data where sales volume is target variable</li>
  <li>Create two variables that are highly correlated, and also have a similar effect</li>
  <li>Then show outputs</li>
</ul>

<p>How will your stakeholders react? While your model says this… does it actually make sense? If you do show this result, expect to receive a harsh berating.</p>

<h3 id="suspect-collinearity">Suspect collinearity</h3>

<p>If you are working on a regression model and</p>

<ol>
  <li>Variables that should have positive coefficients are negative (or vice versa),</li>
  <li>Your coefficients change significantly (i.e. flip signs) as you add/remove predictors</li>
  <li>Variables that should be significant don’t present as significant</li>
</ol>

<p>Then you should immediately suspect collinearity.</p>

<p>At the same time, if the model does not match your intuition, make sure to challenge your assumptions as well. At times, your model may show you counterintuitive information that challenges your beliefs – but is actually accurate. My suggestion is to always keep your assumptions and beliefs in check, and keep an open mind where possible.</p>

<h3 id="solutions">Solutions</h3>

<h4 id="do-you-have-the-option-of-removing-correlated-predictors">Do you have the option of removing correlated predictors?</h4>

<p>Notes</p>

<h4 id="will-regularized-regression-work-in-your-context">Will regularized regression work in your context?</h4>

<p>Notes</p>

<h4 id="residualize-yoru-stuff">Residualize yoru stuff</h4>

<p>Notes</p>

<h4 id="merging-variables-together">Merging variables together</h4>

<p>Notes</p>

<h3 id="a-recap-on-the-framework-for-approaching-collinearity-and-a-few-additional-working-example">A recap on the framework for approaching collinearity, and a few additional working example</h3>

<p>Here is the framework I would use for</p>
<ul>
  <li>Provide minimal working evidence of collinearity issue</li>
  <li>Map potential solutions (ranked from simple to complex)</li>
  <li>Test each solution out, documenting your steps and results for each one</li>
</ul>

<p>Provide simple evidence that collinearity is in fact the culprit. Do this by presenting a model in which your coefficients make sense, another where they don’t, and then show the correlations and VIF for variables that are wrong.</p>

<p>Literature review:</p>
<ul>
  <li><a href="https://web.stanford.edu/class/stats202/content/lec5-condensed.pdf">Variable selection via clustering</a></li>
  <li><a href="http://www.stat.columbia.edu/~gelman/stuff_for_blog/oh_no_I_got_the_wrong_sign.pdf">Oh No! I Got the Wrong Sign! What Should I do?</a></li>
  <li><a href="https://stats.stackexchange.com/questions/1580/regression-coefficients-that-flip-sign-after-including-other-predictors">Regression signs that flip after including other predictors</a></li>
  <li><a href="https://www.sciencedirect.com/science/article/pii/S2314717218300059">Correlation based feature selection with clustering for high dimensional data</a></li>
  <li><a href="https://www.kellogg.northwestern.edu/faculty/dranove/htm/dranove/coursepages/Mgmt%20469/choosing%20variables.pdf">Choosing the Right Variables for the Right Hand Side</a></li>
  <li><a href="https://stats.stackexchange.com/questions/38093/how-to-deal-with-high-correlation-among-predictors-in-multiple-regression">How to deal with high correlation among predictors in multiple regression</a></li>
  <li><a href="https://statisticsbyjim.com/regression/multicollinearity-in-regression-analysis/">Multicollinearity</a></li>
  <li><a href="https://stats.stackexchange.com/questions/32472/collapsing-combining-two-variables-into-one-for-analysis">Collapsing two variables into one for analysis</a></li>
  <li><a href="https://stats.stackexchange.com/questions/198271/regression-coefficients-seem-to-have-the-wrong-sign-can-i-force-them-to-have-a">StackExchange</a></li>
</ul>

<p>Scenario walkthrough</p>
<ul>
  <li>Need to build inferential model</li>
  <li>Signs were not coming out right, and as I added variables they were flipping</li>
  <li>Needed to change the values</li>
  <li>Tested variable of interest</li>
  <li>Pulled variables out, one at a time,</li>
</ul>

<p>Recap</p>
<ul>
  <li>Generate a hypothesis for why it’s looking different</li>
  <li>Confirm hypothesis by playing with data</li>
  <li>Attempting different solutions</li>
</ul>

<p>If you suspect collinearity</p>
<ul>
  <li>Run a quick correlation table on your input variables</li>
  <li>Look at a scatterplot between the key problem variables</li>
  <li>Test a strategy for</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-05-05T00:00:00-07:00">May 5, 2020</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="#" class="pagination--pager disabled">Previous</a>
    
    
      <a href="/pvals-and-vifs/" class="pagination--pager" title="Comparing P-Values and VIFs
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Collin Ching. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>
